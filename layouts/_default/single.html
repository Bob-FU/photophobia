{{ define "main" }}
  {{ $section := .Site.GetPage "section" .Section }}
  <article>
    <header>
      <h1>{{ .Title }}</h1>

      {{ with .Params.author }}
        <p>
          By <strong>
          {{ if reflect.IsSlice . }}
            {{ delimit . ", " | markdownify }}
          {{else}}
            {{ . | markdownify }}
          {{ end }}
          </strong>
        </p>
      {{ end }}

      <time {{ printf `datetime="%s"` (.Date.Format "2006-01-02T15:04:05Z07:00") | safeHTMLAttr }}>
        {{ .Date.Format "January 2, 2006" }}
      </time>
    </header>

    <section>
      {{ .Content }}
      {{ partial "tags.html" . }}
    </section>

    <aside>{{ partial "menu-contextual.html" . }}</aside>
  </article>
{{ end }}
